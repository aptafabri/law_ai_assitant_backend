2024-12-19 00:44:24,418 - main - INFO - Application startup
2024-12-19 00:49:44,188 - main - INFO - Application shutdown
2024-12-19 00:50:04,395 - main - INFO - Application startup
2024-12-19 00:50:06,266 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 00:50:15,744 - api.v1.user - INFO - User login attempt: lee@adaletgpt.com
2024-12-19 00:50:15,745 - crud.user - INFO - Attempting login for email: lee@adaletgpt.com
2024-12-19 00:50:17,269 - core.utils - INFO - Access token created for subject 88.
2024-12-19 00:50:17,270 - core.utils - INFO - Refresh token created for subject 88.
2024-12-19 00:50:17,270 - crud.user - INFO - Login successful for lee@adaletgpt.com, tokens generated
2024-12-19 00:50:19,279 - api.v1.user - INFO - User logged in successfully: lee@adaletgpt.com
2024-12-19 00:50:32,523 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 00:50:33,729 - api.v1.rag - INFO - Received /chat-agent-streaming request with session_id: b044c2fe-a756-4005-b521-da47d527734d, question: what is your name?
2024-12-19 00:50:33,731 - api.v1.rag - INFO - File attached: 
2024-12-19 00:50:33,731 - crud.chat - INFO - Uploading legal description for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 00:50:37,390 - crud.chat - INFO - Reading PDF file contents
2024-12-19 00:50:37,394 - crud.chat - ERROR - Error reading PDF: Unable to get page count. Is poppler installed and in PATH?
2024-12-19 00:50:37,396 - crud.chat - INFO - Generating question with legal PDF and question
2024-12-19 00:50:39,245 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 00:50:39,279 - crud.agent - INFO - Starting agent_run for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 00:50:40,692 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 00:50:40,796 - crud.chat - INFO - Initializing Postgres chat memory for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 00:50:43,620 - langchain_postgres.chat_message_histories - INFO - Creating schema for table legal_message_store
2024-12-19 00:50:45,610 - crud.agent - INFO - Starting agent execution
2024-12-19 00:50:48,449 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 00:50:57,883 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 00:50:57,924 - crud.agent - INFO - Agent execution completed
2024-12-19 00:50:57,925 - crud.agent - INFO - Final answer: Üzgünüm, ancak belirli bir hukuki dava veya davacı hakkında kişisel bilgileri paylaşamam. Hukuki davalarla ilgili genel bilgiler veya yasal süreçler hakkında sorularınız varsa, yardımcı olmaktan memnuniyet duyarım.
2024-12-19 00:50:57,926 - crud.agent - INFO - Total Tokens: 3969
2024-12-19 00:50:57,927 - crud.agent - INFO - Total Cost (USD): $0.04315
2024-12-19 00:50:57,928 - crud.chat - INFO - Checking if session exists for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 00:50:59,132 - crud.rag - INFO - Adding chat history for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 00:50:59,133 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 00:51:01,137 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 00:51:03,271 - crud.rag - INFO - Chat history added successfully
2024-12-19 00:51:03,272 - crud.agent - INFO - Chat history added successfully
2024-12-19 00:51:03,273 - crud.user - INFO - Calculating LLM token for user 88
2024-12-19 00:51:04,537 - crud.user - INFO - LLM token updated for user 88
2024-12-19 00:51:04,537 - crud.agent - INFO - LLM token usage calculated and updated
2024-12-19 00:53:13,506 - main - INFO - Application shutdown
2024-12-19 00:54:07,542 - main - INFO - Application startup
2024-12-19 00:54:19,479 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 00:54:27,125 - api.v1.rag - INFO - Received /chat-agent-streaming request with session_id: b044c2fe-a756-4005-b521-da47d527734d, question: what is your name?
2024-12-19 00:54:27,126 - api.v1.rag - ERROR - An error occurred in /chat-agent-streaming endpoint: 'NoneType' object has no attribute 'size'
Traceback (most recent call last):
  File "D:\workspace\adaletgpt\AdaletGPT_Backend\app\api\v1\rag.py", line 259, in rag_agent_streaming
    if file.size > 500*1024:
       ^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'size'
2024-12-19 00:55:00,388 - main - INFO - Application shutdown
2024-12-19 00:55:27,063 - main - INFO - Application startup
2024-12-19 00:55:38,621 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 00:55:39,830 - api.v1.rag - INFO - Received /chat-agent-streaming request with session_id: b044c2fe-a756-4005-b521-da47d527734d, question: what is your name?
2024-12-19 00:55:39,831 - api.v1.rag - ERROR - An error occurred in /chat-agent-streaming endpoint: 'NoneType' object has no attribute 'size'
Traceback (most recent call last):
  File "D:\workspace\adaletgpt\AdaletGPT_Backend\app\api\v1\rag.py", line 260, in rag_agent_streaming
    if file.size > 500*1024:
       ^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'size'
2024-12-19 00:56:08,680 - main - INFO - Application shutdown
2024-12-19 00:56:27,081 - main - INFO - Application startup
2024-12-19 00:56:29,070 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 00:56:30,272 - api.v1.rag - INFO - Received /chat-agent-streaming request with session_id: b044c2fe-a756-4005-b521-da47d527734d, question: what is your name?
2024-12-19 00:56:30,273 - api.v1.rag - ERROR - An error occurred in /chat-agent-streaming endpoint: 'NoneType' object has no attribute 'size'
Traceback (most recent call last):
  File "D:\workspace\adaletgpt\AdaletGPT_Backend\app\api\v1\rag.py", line 261, in rag_agent_streaming
    if file.size > 500*1024:
       ^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'size'
2024-12-19 00:56:44,279 - main - INFO - Application shutdown
2024-12-19 00:57:01,816 - main - INFO - Application startup
2024-12-19 00:57:05,543 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 00:57:06,740 - api.v1.rag - INFO - Received /chat-agent-streaming request with session_id: b044c2fe-a756-4005-b521-da47d527734d, question: what is your name?
2024-12-19 00:57:06,741 - api.v1.rag - ERROR - An error occurred in /chat-agent-streaming endpoint: 'NoneType' object has no attribute 'size'
Traceback (most recent call last):
  File "D:\workspace\adaletgpt\AdaletGPT_Backend\app\api\v1\rag.py", line 261, in rag_agent_streaming
    if file.size > 500*1024:
       ^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'size'
2024-12-19 00:58:18,031 - main - INFO - Application shutdown
2024-12-19 00:59:01,030 - main - INFO - Application startup
2024-12-19 00:59:13,945 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 00:59:15,151 - api.v1.rag - INFO - Received /chat-agent-streaming request with session_id: b044c2fe-a756-4005-b521-da47d527734d, question: what is your name?
2024-12-19 00:59:15,152 - api.v1.rag - ERROR - An error occurred in /chat-agent-streaming endpoint: 'NoneType' object has no attribute 'filename'
Traceback (most recent call last):
  File "D:\workspace\adaletgpt\AdaletGPT_Backend\app\api\v1\rag.py", line 265, in rag_agent_streaming
    logger.info(f"File attached: {file.filename}")
                                  ^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'filename'
2024-12-19 01:04:39,873 - main - INFO - Application shutdown
2024-12-19 01:05:00,802 - main - INFO - Application startup
2024-12-19 01:05:04,478 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 01:05:05,691 - api.v1.rag - INFO - Received /chat-agent-streaming request with session_id: b044c2fe-a756-4005-b521-da47d527734d, question: what is your name?
2024-12-19 01:05:05,692 - api.v1.rag - INFO - File attached: 
2024-12-19 01:05:05,693 - crud.chat - INFO - Uploading legal description for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:05:09,621 - crud.chat - INFO - Reading PDF file contents
2024-12-19 01:05:09,624 - crud.chat - ERROR - Error reading PDF: Unable to get page count. Is poppler installed and in PATH?
2024-12-19 01:05:09,627 - crud.chat - INFO - Generating question with legal PDF and question
2024-12-19 01:05:11,427 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:05:11,465 - crud.agent - INFO - Starting agent_run for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:05:13,038 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:05:13,106 - crud.chat - INFO - Initializing Postgres chat memory for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:05:16,321 - langchain_postgres.chat_message_histories - INFO - Creating schema for table legal_message_store
2024-12-19 01:05:17,938 - crud.agent - INFO - Starting agent execution
2024-12-19 01:05:21,201 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:05:31,250 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:05:31,294 - crud.agent - INFO - Agent execution completed
2024-12-19 01:05:31,295 - crud.agent - INFO - Final answer: Üzgünüm, ancak belirli bir dava veya taraflarla ilgili kişisel bilgileri paylaşamam. Hukuki süreçler ve genel bilgiler hakkında başka sorularınız varsa, yardımcı olmaktan memnuniyet duyarım.
2024-12-19 01:05:31,297 - crud.agent - INFO - Total Tokens: 3969
2024-12-19 01:05:31,298 - crud.agent - INFO - Total Cost (USD): $0.04315
2024-12-19 01:05:31,299 - crud.chat - INFO - Checking if session exists for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:05:32,495 - crud.rag - INFO - Adding chat history for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:05:32,495 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:05:34,490 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:05:36,483 - crud.rag - INFO - Chat history added successfully
2024-12-19 01:05:36,484 - crud.agent - INFO - Chat history added successfully
2024-12-19 01:05:36,485 - crud.user - INFO - Calculating LLM token for user 88
2024-12-19 01:05:37,760 - crud.user - INFO - LLM token updated for user 88
2024-12-19 01:05:37,761 - crud.agent - INFO - LLM token usage calculated and updated
2024-12-19 01:06:56,252 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 01:06:57,442 - api.v1.rag - INFO - Received /chat-agent-streaming request with session_id: b044c2fe-a756-4005-b521-da47d527734d, question: what is your name?
2024-12-19 01:06:57,442 - api.v1.rag - INFO - File attached: 
2024-12-19 01:06:57,443 - crud.chat - INFO - Uploading legal description for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:06:58,943 - crud.chat - INFO - Reading PDF file contents
2024-12-19 01:06:58,947 - crud.chat - ERROR - Error reading PDF: Unable to get page count. Is poppler installed and in PATH?
2024-12-19 01:06:58,948 - crud.chat - INFO - Generating question with legal PDF and question
2024-12-19 01:07:01,323 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:07:01,327 - crud.agent - INFO - Starting agent_run for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:07:03,095 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:07:03,176 - crud.chat - INFO - Initializing Postgres chat memory for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:07:06,454 - langchain_postgres.chat_message_histories - INFO - Creating schema for table legal_message_store
2024-12-19 01:07:08,074 - crud.agent - INFO - Starting agent execution
2024-12-19 01:07:10,815 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:07:19,311 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:07:19,325 - crud.agent - INFO - Agent execution completed
2024-12-19 01:07:19,326 - crud.agent - INFO - Final answer: Benim adım AdaletGPT. Size nasıl yardımcı olabilirim?
2024-12-19 01:07:19,327 - crud.agent - INFO - Total Tokens: 3969
2024-12-19 01:07:19,327 - crud.agent - INFO - Total Cost (USD): $0.04315
2024-12-19 01:07:19,327 - crud.chat - INFO - Checking if session exists for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:07:20,520 - crud.rag - INFO - Adding chat history for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:07:20,521 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:07:22,519 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:07:24,525 - crud.rag - INFO - Chat history added successfully
2024-12-19 01:07:24,526 - crud.agent - INFO - Chat history added successfully
2024-12-19 01:07:24,526 - crud.user - INFO - Calculating LLM token for user 88
2024-12-19 01:07:25,721 - crud.user - INFO - LLM token updated for user 88
2024-12-19 01:07:25,721 - crud.agent - INFO - LLM token usage calculated and updated
2024-12-19 01:07:44,054 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 01:07:45,246 - api.v1.rag - INFO - Received /chat-agent-streaming request with session_id: b044c2fe-a756-4005-b521-da47d527734d, question: what is your name?
2024-12-19 01:07:45,247 - api.v1.rag - INFO - File attached: 
2024-12-19 01:07:45,247 - crud.chat - INFO - Uploading legal description for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:07:46,884 - crud.chat - INFO - Reading PDF file contents
2024-12-19 01:07:46,887 - crud.chat - ERROR - Error reading PDF: Unable to get page count. Is poppler installed and in PATH?
2024-12-19 01:07:46,889 - crud.chat - INFO - Generating question with legal PDF and question
2024-12-19 01:07:49,106 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:07:49,112 - crud.agent - INFO - Starting agent_run for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:07:51,516 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:07:51,609 - crud.chat - INFO - Initializing Postgres chat memory for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:07:54,723 - langchain_postgres.chat_message_histories - INFO - Creating schema for table legal_message_store
2024-12-19 01:07:56,357 - crud.agent - INFO - Starting agent execution
2024-12-19 01:07:59,557 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:08:09,372 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:08:09,388 - crud.agent - INFO - Agent execution completed
2024-12-19 01:08:09,389 - crud.agent - INFO - Final answer: Üzgünüm, ancak belirli bir hukuki dava veya davacı hakkında kişisel bilgileri paylaşamam. Hukuki davalarla ilgili genel bilgiler veya yasal süreçler hakkında sorularınız varsa, yardımcı olmaktan memnuniyet duyarım.
2024-12-19 01:08:09,390 - crud.agent - INFO - Total Tokens: 4385
2024-12-19 01:08:09,390 - crud.agent - INFO - Total Cost (USD): $0.04701
2024-12-19 01:08:09,391 - crud.chat - INFO - Checking if session exists for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:08:10,601 - crud.rag - INFO - Adding chat history for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:08:10,602 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:08:12,688 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:08:14,847 - crud.rag - INFO - Chat history added successfully
2024-12-19 01:08:14,847 - crud.agent - INFO - Chat history added successfully
2024-12-19 01:08:14,848 - crud.user - INFO - Calculating LLM token for user 88
2024-12-19 01:08:16,123 - crud.user - INFO - LLM token updated for user 88
2024-12-19 01:08:16,124 - crud.agent - INFO - LLM token usage calculated and updated
2024-12-19 01:08:20,375 - main - INFO - Application shutdown
2024-12-19 01:18:09,891 - main - INFO - Application startup
2024-12-19 01:18:39,662 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 01:18:48,537 - api.v1.user - INFO - User login attempt: lee@adaletgpt.com
2024-12-19 01:18:48,538 - crud.user - INFO - Attempting login for email: lee@adaletgpt.com
2024-12-19 01:18:50,014 - core.utils - INFO - Access token created for subject 88.
2024-12-19 01:18:50,014 - core.utils - INFO - Refresh token created for subject 88.
2024-12-19 01:18:50,015 - crud.user - INFO - Login successful for lee@adaletgpt.com, tokens generated
2024-12-19 01:18:52,034 - api.v1.user - INFO - User logged in successfully: lee@adaletgpt.com
2024-12-19 01:19:05,328 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 01:19:06,628 - api.v1.rag - INFO - Received /chat-agent-streaming request with session_id: b044c2fe-a756-4005-b521-da47d527734d, question: what is your name?
2024-12-19 01:19:06,630 - api.v1.rag - ERROR - An error occurred in /chat-agent-streaming endpoint: 'NoneType' object has no attribute 'size'
Traceback (most recent call last):
  File "D:\workspace\adaletgpt\AdaletGPT_Backend\app\api\v1\rag.py", line 263, in rag_agent_streaming
    if file.size > 500*1024:
       ^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'size'
2024-12-19 01:27:00,456 - main - INFO - Application shutdown
2024-12-19 01:27:25,723 - main - INFO - Application startup
2024-12-19 01:27:34,025 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 01:27:35,996 - api.v1.rag - INFO - Received /chat-agent-streaming request with session_id: b044c2fe-a756-4005-b521-da47d527734d, question: what is your name?
2024-12-19 01:27:35,999 - crud.agent - INFO - Starting agent_run for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:27:38,674 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:27:38,811 - crud.chat - INFO - Initializing Postgres chat memory for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:27:41,736 - langchain_postgres.chat_message_histories - INFO - Creating schema for table legal_message_store
2024-12-19 01:27:43,389 - crud.agent - INFO - Starting agent execution
2024-12-19 01:27:46,399 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:27:55,640 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:27:55,665 - crud.agent - INFO - Agent execution completed
2024-12-19 01:27:55,666 - crud.agent - INFO - Final answer: Benim adım AdaletGPT. Size nasıl yardımcı olabilirim?
2024-12-19 01:27:55,666 - crud.agent - INFO - Total Tokens: 4396
2024-12-19 01:27:55,667 - crud.agent - INFO - Total Cost (USD): $0.04734
2024-12-19 01:27:55,667 - crud.chat - INFO - Checking if session exists for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:27:57,126 - crud.rag - INFO - Adding chat history for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:27:57,127 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:27:59,402 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:28:01,639 - crud.rag - INFO - Chat history added successfully
2024-12-19 01:28:01,640 - crud.agent - INFO - Chat history added successfully
2024-12-19 01:28:01,640 - crud.user - INFO - Calculating LLM token for user 88
2024-12-19 01:28:02,956 - crud.user - INFO - LLM token updated for user 88
2024-12-19 01:28:02,957 - crud.agent - INFO - LLM token usage calculated and updated
2024-12-19 01:28:39,162 - main - INFO - Application startup
2024-12-19 01:28:45,075 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 01:28:46,542 - api.v1.rag - INFO - Received /chat-agent-streaming request with session_id: b044c2fe-a756-4005-b521-da47d527734d, question: what is your name?
2024-12-19 01:28:46,545 - crud.agent - INFO - Starting agent_run for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:28:51,599 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:28:51,691 - crud.chat - INFO - Initializing Postgres chat memory for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:28:54,971 - langchain_postgres.chat_message_histories - INFO - Creating schema for table legal_message_store
2024-12-19 01:28:58,169 - crud.agent - INFO - Starting agent execution
2024-12-19 01:29:02,016 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:29:12,413 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:29:12,428 - crud.agent - INFO - Agent execution completed
2024-12-19 01:29:12,429 - crud.agent - INFO - Final answer: Benim adım AdaletGPT. Size nasıl yardımcı olabilirim?
2024-12-19 01:29:12,429 - crud.agent - INFO - Total Tokens: 4408
2024-12-19 01:29:12,430 - crud.agent - INFO - Total Cost (USD): $0.0477
2024-12-19 01:29:12,430 - crud.chat - INFO - Checking if session exists for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:29:13,869 - crud.rag - INFO - Adding chat history for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:29:13,870 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:29:16,322 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:29:19,242 - crud.rag - INFO - Chat history added successfully
2024-12-19 01:29:19,243 - crud.agent - INFO - Chat history added successfully
2024-12-19 01:29:19,243 - crud.user - INFO - Calculating LLM token for user 88
2024-12-19 01:29:20,714 - crud.user - INFO - LLM token updated for user 88
2024-12-19 01:29:20,715 - crud.agent - INFO - LLM token usage calculated and updated
2024-12-19 01:29:41,675 - core.auth_bearer - INFO - Token validated successfully for user ID: 88
2024-12-19 01:29:43,131 - api.v1.rag - INFO - Received /chat-agent-streaming request with session_id: b044c2fe-a756-4005-b521-da47d527734d, question: what is your name?
2024-12-19 01:29:43,133 - crud.agent - INFO - Starting agent_run for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:29:46,566 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:29:46,640 - crud.chat - INFO - Initializing Postgres chat memory for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:29:50,970 - langchain_postgres.chat_message_histories - INFO - Creating schema for table legal_message_store
2024-12-19 01:29:52,848 - crud.agent - INFO - Starting agent execution
2024-12-19 01:30:00,907 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:30:12,113 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 01:30:12,131 - crud.agent - INFO - Agent execution completed
2024-12-19 01:30:12,132 - crud.agent - INFO - Final answer: Benim adım AdaletGPT. Size nasıl yardımcı olabilirim?
2024-12-19 01:30:12,132 - crud.agent - INFO - Total Tokens: 4393
2024-12-19 01:30:12,133 - crud.agent - INFO - Total Cost (USD): $0.04725
2024-12-19 01:30:12,134 - crud.chat - INFO - Checking if session exists for session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:30:13,553 - crud.rag - INFO - Adding chat history for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:30:13,553 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:30:15,852 - crud.chat - INFO - Adding legal chat message for user_id: 88, session_id: b044c2fe-a756-4005-b521-da47d527734d
2024-12-19 01:30:18,102 - crud.rag - INFO - Chat history added successfully
2024-12-19 01:30:18,103 - crud.agent - INFO - Chat history added successfully
2024-12-19 01:30:18,104 - crud.user - INFO - Calculating LLM token for user 88
2024-12-19 01:30:19,480 - crud.user - INFO - LLM token updated for user 88
2024-12-19 01:30:19,481 - crud.agent - INFO - LLM token usage calculated and updated
2024-12-19 01:30:57,555 - main - INFO - Application shutdown
